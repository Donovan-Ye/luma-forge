---
alwaysApply: true
---

# Luma Forge - 在线图片编辑工具

## 项目概述

Luma Forge 是一个基于 Web 的在线图片编辑工具，专注于提供简单易用的图片调整和编辑功能。用户可以在浏览器中直接上传图片并进行各种基础编辑操作，无需安装任何软件。

## 核心功能

### 1. 图片调色功能

- **曝光调整**：调整图片的亮度，支持曝光度、高光、阴影的独立控制
- **曲线调整**：RGB 曲线编辑器，支持对红、绿、蓝通道进行独立调整
- **色温调整**：调整图片的色温（冷暖色调）
- **其他调色参数**：
  - 对比度
  - 饱和度
  - 色调
  - 清晰度

### 2. 图片裁切功能

- 支持自由裁切和预设比例裁切
- 可旋转图片
- 实时预览裁切效果

### 3. 基础操作

- 图片上传（支持拖拽上传）
- 图片预览
- 编辑历史撤销/重做
- 导出编辑后的图片

## 技术栈

- **框架**：Next.js 16 (App Router)
- **UI 库**：React 19
- **语言**：TypeScript
- **样式**：Tailwind CSS 4
- **组件库**：shadcn/ui (New York style)
- **图标**：Lucide React
- **图片处理**：待集成（建议使用 Canvas API 或 Fabric.js）

## UI 设计参考

![UI Design](./ui.png)

请参考 UI 设计图进行开发，确保界面美观、现代且符合用户体验最佳实践。

## 开发指导原则

1. **用户体验优先**：所有编辑操作应提供实时预览，响应迅速
2. **性能优化**：图片处理应考虑大文件性能，使用 Web Workers 处理复杂计算
3. **响应式设计**：确保在桌面和移动设备上都能良好使用
4. **代码质量**：使用 TypeScript 严格模式，遵循 Next.js 最佳实践
5. **组件化**：将功能模块拆分为可复用的 React 组件
6. **状态管理**：使用 React Hooks 管理编辑状态，考虑使用 Zustand 或 Context API 管理全局状态

## 文件结构建议

```
app/
  ├── page.tsx              # 主页面
  ├── layout.tsx            # 根布局
  └── globals.css           # 全局样式
components/
  ├── ui/                   # shadcn/ui 组件
  ├── editor/               # 编辑器相关组件
  │   ├── ImageEditor.tsx   # 主编辑器组件
  │   ├── AdjustmentsPanel.tsx  # 调色面板
  │   ├── CropTool.tsx      # 裁切工具
  │   └── CurveEditor.tsx   # 曲线编辑器
  └── upload/               # 上传相关组件
lib/
  ├── image-processing/     # 图片处理工具函数
  │   ├── adjustments.ts    # 调色相关函数
  │   ├── crop.ts           # 裁切相关函数
  │   └── canvas-utils.ts  # Canvas 工具函数
  └── utils.ts              # 通用工具函数
```

## 注意事项

- 图片处理应在客户端完成，不依赖后端服务
- 考虑使用 Canvas API 或 WebGL 进行高性能图片处理
- 支持常见图片格式：JPG, PNG, WebP
- 编辑操作应支持撤销/重做功能
- 导出时应保持图片质量，提供多种格式和分辨率选项
